# HFT-Lite Configuration
# ======================
# Copy this file to config.yaml and customize for your environment.
# 
# SECURITY NOTE: Never commit API keys to version control!
# Set sensitive values via environment variables:
#   - KALSHI_API_KEY_ID
#   - KALSHI_PRIVATE_KEY
#   - IBKR_ACCOUNT

# Kalshi API Configuration
kalshi:
  api_base_url: "https://trading-api.kalshi.com/trade-api/v2"
  ws_url: "wss://trading-api.kalshi.com/trade-api/ws/v2"
  # api_key_id: <set via KALSHI_API_KEY_ID env var>
  # api_private_key: <set via KALSHI_PRIVATE_KEY env var>
  heartbeat_interval_sec: 10
  reconnect_delay_sec: 1.0
  max_reconnect_attempts: 5
  request_timeout_sec: 5.0

# Interactive Brokers TWS/Gateway Configuration
ibkr:
  host: "127.0.0.1"
  port: 7497          # 7497=TWS Paper, 7496=TWS Live, 4001=Gateway Paper, 4002=Gateway Live
  client_id: 1
  readonly: false
  # account: <set via IBKR_ACCOUNT env var>
  request_timeout_sec: 10.0
  market_data_type: 1  # 1=Live, 2=Frozen, 3=Delayed, 4=Delayed-Frozen

# Risk Management Parameters
risk:
  max_position_per_symbol: 100      # Max contracts per symbol per venue
  max_total_exposure: 10000         # Max total $ at risk
  max_daily_loss: 500               # Stop trading if daily loss exceeds
  max_orders_per_second: 5          # Rate limit
  min_edge_bps: 50                  # Minimum edge in basis points to trade
  stale_quote_threshold_ms: 500     # Consider quotes stale after this
  max_slippage_bps: 25              # Max acceptable slippage

# Fee Schedules (update these based on current venue pricing)
fees:
  # Kalshi fees
  kalshi_taker_fee: 0.07            # 7 cents per contract (taker)
  kalshi_maker_fee: 0.00            # No maker rebate
  kalshi_settlement_fee: 0.03       # 3 cents on winning contracts
  
  # IBKR fees (varies by product)
  ibkr_taker_fee: 0.05
  ibkr_maker_fee: 0.02
  ibkr_min_fee: 1.00

# Logging Configuration
logging:
  level: "INFO"                     # DEBUG, INFO, WARNING, ERROR, CRITICAL
  file_path: "logs/hft_lite.log"
  max_file_size_mb: 100
  backup_count: 5
  log_ticks: false                  # Enable for debugging only - very verbose
  log_orders: true

# Symbol Mappings
# Map your internal symbols to venue-specific identifiers
symbols:
  - unified_symbol: "FED-RATE-DEC-2024"
    kalshi_ticker: "FED-24DEC-T4.50"
    ibkr_con_id: 123456789
    contract_type: "YES"
    multiplier: 1

  - unified_symbol: "FED-RATE-DEC-2024-NO"
    kalshi_ticker: "FED-24DEC-T4.50"
    ibkr_con_id: 123456789
    contract_type: "NO"
    multiplier: 1

# System Settings
snapshot_interval_sec: 300          # Request full snapshots every 5 minutes
queue_max_size: 10000               # Max pending ticks in event queue
enable_trading: false               # SAFETY: Must explicitly enable
paper_trading: true                 # Use paper trading mode
